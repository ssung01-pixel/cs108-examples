<!-- mini_fb/show_profile_page.html -->
<!-- Author: Sarinna Sung, (ssung101@bu.edu), 03/24/2021-->
<!-- to render a profile page for one user (i.e., a single Profile record). On this page, 
    include a larger-format image, and decide on the formatting that suits you to display 
    the data attributes stored in the Profile record.
-->

<!--inherit from base.html-->
{% extends 'mini_fb/base.html' %}
{% block content %}

<body>



    <tr> <!-- using the attributes and displaying each of them and centering them -->
        <td><strong><center>{{profile.first_name}} {{profile.last_name}} </center></strong></td> <br> <!-- displaying the first name and last name of the specific profile -->
        <td><center><img src= "{{profile.profile_img_url}}" style = "max-width:200; max-height: 200"></center> </td> <br> <!-- adding an image and creating image source and sizing the picture size.-->
        <td><center>{{profile.email_address}}</center></td> <br> <!--displaying the email address of the specific profile selected-->
        <td><center>{{profile.city}}</center></td> <br> <!--displaying the city of the specific profile selected-->
        <td><center><a href = "{% url 'update_profile' profile.pk %}">Edit this Profile</a>  </center></td> 
    </tr> 

    <table>
        <tr><td><strong>Status Message</strong></td></tr> <!-- displaying the Status Message name-->
        <tr><th colspan="1" scope="colgroup">Time</th> <!-- displaying the Time name-->
            <th colspan="1" scope="colgroup">Message</th> <!-- displaying the Message name-->
        </tr>

       
    {% for sm in profile.get_status_messages %} <!-- creating a loop to go through the profiles messages to print out the messages that the person has-->

    <tr>
        <tr><td></td></tr>
        <td>{{sm.timestamp}}</td> <!-- getting the status messages from profile and displaying each of the timestamp-->
        <td>{{sm.message}} <!-- getting the status messages from profile and displaying each of the messages-->
        {% if sm.image_file %}
        <img src='{{sm.image_file.url}}' style='max-width: 100;'>
        {% endif %}
        </td>
    </tr>
    {% endfor %} <!-- ending the loop -->
    </table>

    <h1>Post a Status Message</h1> <!-- headings for status message-->

    <form method="POST" action="{% url 'post_status_message' profile.pk %}" 
        enctype="multipart/form-data"> <!-- HTTP POST to send data to the server -->
        
        {% csrf_token %}
        <table> 
        {{create_status_form.as_table}} <!-- table-style formatting -->
        <tr>
            <td></td> <!-- empty! -->
            <td><input type="submit" value="Share"></td>
        </tr>
        </table>
        
    </form>
{% endblock %}